<?xml version='1.0' encoding='UTF-8' ?>
<!--

    Copyright (c) 2017 Oracle and/or its affiliates. All rights reserved.

    You may not modify, use, reproduce, or distribute this software except in
    compliance with the terms of the License at:
    http://java.net/projects/javaeetutorial/pages/BerkeleyLicense

-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Restaurant reservations</title>
        <h:outputStylesheet library="css" name="style.css"  />
    </h:head>

    <h:body>
        <h:form>
            <h:graphicImage url="#{resource['images:duke.waving.gif']}" 
                            alt="Duke waving his hand"/>
            <h2>Hello, my name is Duke. Welcome to my restaurant! </h2>

            <h:commandButton id="submit" value="Add new reservation" 
                             action="addnew" />

            <h2>Here are the reservations:</h2>

            <h:dataTable value="#{reservationsBean.reservations}" var="r"
                         styleClass="res-table"
                         headerClass="res-table-header"
                         rowClasses="res-table-odd-row,res-table-even-row">

                <h:column>
                    <!-- column header -->
                    <f:facet name="header">Reservation Id</f:facet>
                    <!-- row record -->
                    #{r.id}
                </h:column>

                <h:column>
                    <f:facet name="header">Date</f:facet>
                        #{r.date}
                </h:column>

                <h:column>
                    <f:facet name="header">Time</f:facet>
                        #{r.time}
                </h:column>

                <h:column>
                    <f:facet name="header">Room</f:facet>
                        #{r.room.name}
                </h:column>

                <h:column>
                    <f:facet name="header">Guest Name</f:facet>
                        #{r.guestName}
                </h:column>

                <h:column>
                    <f:facet name="header">Is special guest</f:facet>
                        #{r.isSpecialGuest}
                </h:column>

                <h:column>
                    <f:facet name="header">Is special waiter required</f:facet>
                        #{r.isSpecialWaiter}
                </h:column>

            </h:dataTable>

            <h2>
                <h:outputLabel> Search reservations:</h:outputLabel>
                <h:inputText size = "20" value = "#{reservationsBean.searchTerm}" />
                <h:commandButton id="searchByGuest" value="Search by guest name" 
                                 action = "#{reservationsBean.searchByGuestName}" />
                <h:commandButton id="searchByRoom" value="Search by room name" 
                                 action = "#{reservationsBean.searchByRoomName}" />
            </h2>
        </h:form>
        <div class="messagecolor">
            <h:messages showSummary="true" 
                        showDetail="false"
                        errorStyle="color: #d20005" 
                        infoStyle="color: blue"/>
        </div>
    </h:body>
</html>

